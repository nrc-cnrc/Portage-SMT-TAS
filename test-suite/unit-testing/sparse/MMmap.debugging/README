You will find in this directory what was used during development of PTGSH-244, make SparseModel use MemoryMapped_map word2class files.

The original models were taken from:
balzac:/home/portage/models/generic-model/v2.0/gc.ca.models/framelab.en2fr/models/decode.new_tuning.test/gc.ca.lm22345.hdm.sparse.ibm4_hmm3_ibm2.sig120.test

A reference canoe (canoe.ref.PTGSH-244) was build from PORTAGEshared's 1978b440957d7221c14ec56f046e597eb832e8bb which is the version before I started work on PTGSH-244.

NOTE:
While implementing PTGSH-244, I've notice that the code that loads the text
file word2class adds all word from the map which is kinda suspiscious.  It
turns out that we cannot properly filter the word2class map using voc.index()
because, at least in load-first mode, we don't have the source vocabulary in
the vocab.  Even trying to load the map in
DecoderFeature::finalizeInitialization doesn't help.  This should be handled as
a separate bug.


The end result is that canoe.ref.PTGSH-244, canoe with text file and canoe with MemoryMapped_map yield the same output translatitons.
sha1sum PTGSH-244/out PTGSH-244.MMmap/out ref/out 
9778147ec6b3b30d6928d044a11cebd245eb92cb  PTGSH-244/out
9778147ec6b3b30d6928d044a11cebd245eb92cb  PTGSH-244.MMmap/out
9778147ec6b3b30d6928d044a11cebd245eb92cb  ref/out

Using 1000 source sentences:
- As expected loading is much faster for MemoryMapped_map (6s) vs text files (37s).
- All three jobs started at the exact same time but MemoryMapped_map finished
  ~26s before the two others text files.
- gperftools also report that MemoryMapped_map used 10427 100ms interrupts
  while the closest text file version used 12998 100ms interrupts yielding the
  same ~26s faster.


-                                                                   |-                                                                   |-                                                                  
  canoe, NRC-CNRC, (c) 2004 - 2015, Her Majesty in Right of Canada  |  canoe, NRC-CNRC, (c) 2004 - 2015, Her Majesty in Right of Canada  |  canoe, NRC-CNRC, (c) 2004 - 2015, Her Majesty in Right of Canada 
  Please run "portage_info -notice" for Copyright notices of 3rd pa«|  Please run "portage_info -notice" for Copyright notices of 3rd pa«|  Please run "portage_info -notice" for Copyright notices of 3rd p«
                                                                    |                                                                    |                                                                   
  Warning: Setting -load-first, since dynamic LM filtering is not y«|  Warning: Setting -load-first, since dynamic LM filtering is not y«|  Warning: Setting -load-first, since dynamic LM filtering is not «
  canoe starting on NRC-005823 on Wed Dec  9 15:01:49 2015          |  canoe starting on NRC-005823 on Wed Dec  9 15:01:49 2015          |  canoe starting on NRC-005823 on Wed Dec  9 15:01:49 2015         
                                                                    |                                                                    |                                                                   
  local SparseModel weights file found at ./rsparse_model.wts.gz    |  local SparseModel weights file found at ./rsparse.MMmap_model.wts«|  local SparseModel weights file found at ./rsparse_model.wts.gz   
  loaded 8720 SparseModel features from ./sparse/model.feats.gz     |  loaded 8720 SparseModel features from ./sparse.MMmap/model.feats.«|  loaded 8720 SparseModel features from ./sparse/model.feats.gz    
  loaded 8720 SparseModel weights from ./rsparse_model.wts.gz -- no«|  loaded 8720 SparseModel weights from ./rsparse.MMmap_model.wts.gz«|  loaded 8720 SparseModel weights from ./rsparse_model.wts.gz -- n«
  created 8720 SparseModel events                                   |  created 8720 SparseModel events                                   |  created 8720 SparseModel events                                  
  compiled 1873 partial features                                    |  compiled 1873 partial features                                    |  compiled 1873 partial features                                   
  opening TPPT phrase table cpt.all.en2fr.tppt                      |  opening TPPT phrase table cpt.all.en2fr.tppt                      |  opening TPPT phrase table cpt.all.en2fr.tppt                     
  opening TPLDM lexicalized distortion dm.all.en2fr.tpldm           |  opening TPLDM lexicalized distortion dm.all.en2fr.tpldm           |  opening TPLDM lexicalized distortion dm.all.en2fr.tpldm          
  loading language model from all.tplm                              |  loading language model from all.tplm                              |  loading language model from all.tplm                             
  Loaded data structures in 37 seconds.                             |  Loaded data structures in 6 seconds.                              |  Loaded data structures in 37 seconds.                            
                                                                    |                                                                    |                                                                   
  Log-linear model used:                                            |  Log-linear model used:                                            |  Log-linear model used:                                           
  index   weight  feature description                               |  index   weight  feature description                               |  index   weight  feature description                              
  1       0.216111        DistortionModel:WordDisplacement          |  1       0.216111        DistortionModel:WordDisplacement          |  1       0.216111        DistortionModel:WordDisplacement         
  2       0.227193        DistortionModel:back-hlex#m#dm.all.en2fr.«|  2       0.227193        DistortionModel:back-hlex#m#dm.all.en2fr.«|  2       0.227193        DistortionModel:back-hlex#m#dm.all.en2fr«
  3       0.220366        DistortionModel:back-hlex#s#dm.all.en2fr.«|  3       0.220366        DistortionModel:back-hlex#s#dm.all.en2fr.«|  3       0.220366        DistortionModel:back-hlex#s#dm.all.en2fr«
  4       0.340492        DistortionModel:back-hlex#d#dm.all.en2fr.«|  4       0.340492        DistortionModel:back-hlex#d#dm.all.en2fr.«|  4       0.340492        DistortionModel:back-hlex#d#dm.all.en2fr«
  5       0.178091        DistortionModel:fwd-hlex#m#dm.all.en2fr.t«|  5       0.178091        DistortionModel:fwd-hlex#m#dm.all.en2fr.t«|  5       0.178091        DistortionModel:fwd-hlex#m#dm.all.en2fr.«
  6       0.196021        DistortionModel:fwd-hlex#s#dm.all.en2fr.t«|  6       0.196021        DistortionModel:fwd-hlex#s#dm.all.en2fr.t«|  6       0.196021        DistortionModel:fwd-hlex#s#dm.all.en2fr.«
  7       0.686614        DistortionModel:fwd-hlex#d#dm.all.en2fr.t«|  7       0.686614        DistortionModel:fwd-hlex#d#dm.all.en2fr.t«|  7       0.686614        DistortionModel:fwd-hlex#d#dm.all.en2fr.«
  8       -0.483861       LengthFeature                             |  8       -0.483861       LengthFeature                             |  8       -0.483861       LengthFeature                            
  9       1       SparseModel:./sparse/model                        |  9       1       SparseModel:./sparse.MMmap/model                  |  9       1       SparseModel:./sparse/model                       
  10      1       LanguageModel:all.tplm;SimpleAutoVoc              |  10      1       LanguageModel:all.tplm;SimpleAutoVoc              |  10      1       LanguageModel:all.tplm;SimpleAutoVoc             
  11      0.345307        TranslationModel:cpt.all.en2fr.tppt(col=0)|  11      0.345307        TranslationModel:cpt.all.en2fr.tppt(col=0)|  11      0.345307        TranslationModel:cpt.all.en2fr.tppt(col=«
  12      0.118923        TranslationModel:cpt.all.en2fr.tppt(col=1)|  12      0.118923        TranslationModel:cpt.all.en2fr.tppt(col=1)|  12      0.118923        TranslationModel:cpt.all.en2fr.tppt(col=«
  13      0.456139        ForwardTranslationModel:cpt.all.en2fr.tpp«|  13      0.456139        ForwardTranslationModel:cpt.all.en2fr.tpp«|  13      0.456139        ForwardTranslationModel:cpt.all.en2fr.tp«
  14      -0.00542507     ForwardTranslationModel:cpt.all.en2fr.tpp«|  14      -0.00542507     ForwardTranslationModel:cpt.all.en2fr.tpp«|  14      -0.00542507     ForwardTranslationModel:cpt.all.en2fr.tp«
  15-6738 0.92662 SparseModel:AlignedWordPair:data.svoc_.._.._.._co«|  15-6738 0.92662 SparseModel:AlignedWordPair:data.svoc_.._.._.._co«|  15-6738 0.92662 SparseModel:AlignedWordPair:data.svoc_.._.._.._c«
+ +-- 14 lines: 6739-6788 0.644967 SparseModel:LexUnalTgtAny:data.tu|+ +-- 14 lines: 6739-6788 0.644967 SparseModel:LexUnalTgtAny:data.tu|+ +-- 14 lines: 6739-6788 0.644967 SparseModel:LexUnalTgtAny:data.t
  8267-8332       0.0122002       SparseModel:DistCurrentTgtLastWor«|  8267-8332       0.0122002       SparseModel:DistCurrentTgtLastWor«|  8267-8332       0.0122002       SparseModel:DistCurrentTgtLastWo«
  8333-8488       0.0122013       SparseModel:DistCurrentTgtLastWor«|  8333-8488       0.0122013       SparseModel:DistCurrentTgtLastWor«|  8333-8488       0.0122013       SparseModel:DistCurrentTgtLastWo«
  8489-8734       0.0121996       SparseModel:DistCurrentTgtLastWor«|  8489-8734       0.0121996       SparseModel:DistCurrentTgtLastWor«|  8489-8734       0.0121996       SparseModel:DistCurrentTgtLastWo«
                                                                    |                                                                    |                                                                   
  Reading and translating sentences.                                |  Reading and translating sentences.                                |  Reading and translating sentences.                               
  ................................................\___/............«|  ................................................\___/............«|  ................................................\___/...........«
  Translated 1000 sentences in 92 seconds.                          |  Translated 1000 sentences in 98 seconds.                          |  Translated 1000 sentences in 95 seconds.                         
  TimingStats over per-sentence model creation, decoding, and outpu«|  TimingStats over per-sentence model creation, decoding, and outpu«|  TimingStats over per-sentence model creation, decoding, and outp«
  createModel-avg = 0.02408                                         |  createModel-avg = 0.02327                                         |  createModel-avg = 0.02477                                        
  createModel-var = 0.000727481                                     |  createModel-var = 0.000690898                                     |  createModel-var = 0.000767114                                    
  createModel-total = 24.08                                         |  createModel-total = 23.27                                         |  createModel-total = 24.77                                        
  runDecoder-avg = 0.06738                                          |  runDecoder-avg = 0.07414                                          |  runDecoder-avg = 0.06886                                         
  runDecoder-var = 0.00753867                                       |  runDecoder-var = 0.00878104                                       |  runDecoder-var = 0.00792282                                      
  runDecoder-total = 67.38                                          |  runDecoder-total = 74.14                                          |  runDecoder-total = 68.86                                         
  doOutput-avg = 0.00054                                            |  doOutput-avg = 0.00062                                            |  doOutput-avg = 0.00072                                           
  doOutput-var = 5.11351e-06                                        |  doOutput-var = 5.82142e-06                                        |  doOutput-var = 7.08869e-06                                       
  doOutput-total = 0.54                                             |  doOutput-total = 0.62                                             |  doOutput-total = 0.72                                            
  Overall LM hits:                                                  |  Overall LM hits:                                                  |  Overall LM hits:                                                 
  Found k-grams: 0:194( 0%) 1:6371870(18%) 2:11085298(32%) 3:915949«|  Found k-grams: 0:194( 0%) 1:6371870(18%) 2:11085298(32%) 3:915949«|  Found k-grams: 0:194( 0%) 1:6371870(18%) 2:11085298(32%) 3:91594«
  Used 7.72e+04 non-ITG reductions, left 0 incomplete stacks        |  Used 7.72e+04 non-ITG reductions, left 0 incomplete stacks        |  Used 7.72e+04 non-ITG reductions, left 0 incomplete stacks       
  canoe done on NRC-005823 on Wed Dec  9 15:03:59 2015              |  canoe done on NRC-005823 on Wed Dec  9 15:03:33 2015              |  canoe done on NRC-005823 on Wed Dec  9 15:04:02 2015             
                                                                    |                                                                    |                                                                   
  PROFILE: interrupts/evictions/bytes = 12998/4872/1216048          |  PROFILE: interrupts/evictions/bytes = 10427/3753/983864           |  PROFILE: interrupts/evictions/bytes = 13284/4873/1201528         
  ~                                                                 |  ~                                                                 |  ~                                                                
01 PTGSH-244/log.canoe[utf-8]                   114 0x72  62,1 Bot > 02 PTGSH-244.MMmap/log.canoe[utf-8]             100 0x64  65,1 Bot > 03 ref/log.canoe[utf-8]                        114 0x72  62,1 Bot >


GPerfTools
Total: 12998 samples                                                |Total: 10427 samples                                                |Total: 13284 samples
    1139   8.8%   8.8%     1139   8.8% ugdiss::tightfind_midpoint   |    1106  10.6%  10.6%     1106  10.6% ugdiss::tightfind_midpoint   |    1139   8.6%   8.6%     1139   8.6% ugdiss::tightfind_midpoint  
     628   4.8%  13.6%     1638  12.6% ugdiss::tightfind            |     654   6.3%  16.9%     1714  16.4% ugdiss::tightfind            |     630   4.7%  13.3%     1653  12.4% ugdiss::tightfind
     378   2.9%  16.5%      395   3.0% ugdiss::tightread8           |     443   4.2%  21.1%      443   4.2% __strcmp_sse42               |     388   2.9%  16.2%      388   2.9% __strcmp_sse42
     361   2.8%  19.3%      361   2.8% __strcmp_sse42               |     403   3.9%  25.0%      414   4.0% ugdiss::tightread8           |     368   2.8%  19.0%      381   2.9% ugdiss::tightread8
     339   2.6%  21.9%      739   5.7% ugdiss::TpPhraseTable::Node:«|     352   3.4%  28.4%     2619  25.1% Portage::LMtpt::private_word«|     354   2.7%  21.7%      419   3.2% std::vector::size (inline)
     334   2.6%  24.5%     2529  19.5% Portage::LMtpt::private_word«|     328   3.1%  31.5%      405   3.9% std::vector::size (inline)   |     352   2.6%  24.3%     1165   8.8% std::tr1::_Hashtable::_M_fi«
     334   2.6%  27.0%      414   3.2% std::vector::size (inline)   |     326   3.1%  34.6%      854   8.2% ugdiss::tightfind_noflags    |     320   2.4%  26.7%     2526  19.0% Portage::LMtpt::private_wor«
     332   2.6%  29.6%     1060   8.2% std::tr1::_Hashtable::_M_fin«|     303   2.9%  37.5%      303   2.9% ugdiss::binread              |     310   2.3%  29.1%      310   2.3% ugdiss::binread             
     309   2.4%  32.0%      883   6.8% ugdiss::tightfind_noflags    |     273   2.6%  40.2%      694   6.7% ugdiss::TpPhraseTable::Node:«|     308   2.3%  31.4%      877   6.6% ugdiss::tightfind_noflags   
     283   2.2%  34.1%      283   2.2% ugdiss::binread              |     207   2.0%  42.2%      219   2.1% SLL_Pop                      |     285   2.1%  33.5%      746   5.6% ugdiss::TpPhraseTable::Node«
     227   1.7%  35.9%      227   1.7% __strlen_sse42               |     184   1.8%  43.9%      191   1.8% tcmalloc::CentralFreeList::F«|     235   1.8%  35.3%      254   1.9% SLL_Pop
     209   1.6%  37.5%      461   3.5% Portage::str_equal::operator«|     123   1.2%  45.1%      123   1.2% Portage::WorseScore::operator|     215   1.6%  36.9%      486   3.7% Portage::str_equal::operato«
     206   1.6%  39.1%      312   2.4% hash_range (inline)          |     117   1.1%  46.2%      117   1.1% __strlen_sse42               |     214   1.6%  38.5%      214   1.6% __strlen_sse42
     203   1.6%  40.6%      483   3.7% __dynamic_cast               |     117   1.1%  47.3%      169   1.6% hash_range (inline)          |     192   1.4%  40.0%      196   1.5% tcmalloc::CentralFreeList::«
     181   1.4%  42.0%      181   1.4% strtok_r                     |     110   1.1%  48.4%      618   5.9% tightread (inline)           |     188   1.4%  41.4%      448   3.4% __dynamic_cast              
     164   1.3%  43.3%      181   1.4% SLL_Pop                      |     109   1.0%  49.4%      405   3.9% Portage::SparseModel::getPar«|     183   1.4%  42.8%      183   1.4% strtok_r
     157   1.2%  44.5%      170   1.3% tcmalloc::CentralFreeList::F«|     105   1.0%  50.4%      582   5.6% std::tr1::_Hashtable::_M_fin«|     173   1.3%  44.1%      277   2.1% std::basic_string::~basic_s«
     153   1.2%  45.7%      240   1.8% std::basic_string::~basic_st«|      98   0.9%  51.4%      438   4.2% Portage::BasicModelGenerator«|     165   1.2%  45.3%      421   3.2% std::tr1::_Hashtable::_M_re«
     137   1.1%  46.7%      167   1.3% std::locale::locale          |      95   0.9%  52.3%      131   1.3% std::basic_string::~basic_st«|     159   1.2%  46.5%      274   2.1% hash_range (inline)
     134   1.0%  47.8%      393   3.0% std::tr1::_Hashtable::_M_reh«|      92   0.9%  53.2%      129   1.2% __gnu_cxx::new_allocator::co«|     128   1.0%  47.5%      166   1.2% std::locale::locale
     129   1.0%  48.8%      129   1.0% __cxxabiv1::__si_class_type_«|      90   0.9%  54.0%      392   3.8% Portage::MMMap::CompFunc::op«|     118   0.9%  48.4%      127   1.0% memmove
     110   0.8%  49.6%      572   4.4% tightread (inline)           |      87   0.8%  54.9%      141   1.4% Portage::SparseModel::EventT«|     118   0.9%  49.2%      118   0.9% std::locale::operator=
     106   0.8%  50.4%      449   3.5% Portage::BasicModelGenerator«|      85   0.8%  55.7%      127   1.2% Portage::LexicalizedDistorti«|     114   0.9%  50.1%      607   4.6% tightread (inline)
     103   0.8%  51.2%      109   0.8% memmove                      |      84   0.8%  56.5%      263   2.5% Portage::FwdLexDistortion::p«|     111   0.8%  50.9%      111   0.8% __cxxabiv1::__si_class_type«
     101   0.8%  52.0%      362   2.8% Portage::SparseModel::getPar«|      83   0.8%  57.3%      136   1.3% Portage::BasicModel::compute«|     106   0.8%  51.7%      149   1.1% hash_combine (inline)       
     100   0.8%  52.8%      160   1.2% hash_combine (inline)        |      78   0.7%  58.0%       87   0.8% memmove                      |     104   0.8%  52.5%      104   0.8% Portage::WorseScore::operat«
      98   0.8%  53.5%      118   0.9% tc_new                       |      72   0.7%  58.7%      113   1.1% Portage::BasicModel::respect«|     104   0.8%  53.3%      423   3.2% __gnu_cxx::new_allocator::d«
      95   0.7%  54.2%      151   1.2% __cxxabiv1::__vmi_class_type«|      68   0.7%  59.4%       90   0.9% tc_new                       |     100   0.8%  54.1%      423   3.2% Portage::BasicModelGenerato«
      92   0.7%  54.9%       92   0.7% std::locale::operator=       |      67   0.6%  60.0%       80   0.8% pages                        |      98   0.7%  54.8%      115   0.9% tc_new
      87   0.7%  55.6%     1256   9.7% Portage::MakeHyperedges      |      66   0.6%  60.7%      288   2.8% Portage::FwdLexDistortion::s«|      91   0.7%  55.5%      149   1.1% __cxxabiv1::__vmi_class_typ«
      85   0.7%  56.3%      372   2.9% do_malloc                    |      65   0.6%  61.3%     1222  11.7% Portage::MakeHyperedges      |      89   0.7%  56.2%      398   3.0% Portage::SparseModel::getPa«
      84   0.6%  56.9%       84   0.6% Portage::WorseScore::operator|      65   0.6%  61.9%      152   1.5% Portage::str_equal::operator«|      89   0.7%  56.8%       90   0.7% tc_delete
      83   0.6%  57.6%      122   0.9% Portage::BasicModel::respect«|      64   0.6%  62.5%       66   0.6% tc_delete                    |      86   0.6%  57.5%      110   0.8% Portage::SparseModel::Event«
      83   0.6%  58.2%      395   3.0% __gnu_cxx::new_allocator::de«|      59   0.6%  63.1%       69   0.7% tcmalloc::CentralFreeList::R«|      84   0.6%  58.1%      527   4.0% std::tr1::hash::operator (i«
      83   0.6%  58.8%      108   0.8% pages                        |      56   0.5%  63.6%      316   3.0% do_malloc                    |      81   0.6%  58.7%       81   0.6% std::locale::~locale
      79   0.6%  59.4%      134   1.0% Portage::BasicModel::compute«|      53   0.5%  64.1%       53   0.5% __ieee754_logf               |      78   0.6%  59.3%     1247   9.4% Portage::MakeHyperedges
      77   0.6%  60.0%      241   1.9% std::basic_string::basic_str«|      51   0.5%  64.6%       86   0.8% Portage::FwdHierLDM::determi«|      78   0.6%  59.9%       98   0.7% pages
      77   0.6%  60.6%       77   0.6% std::locale::~locale         |      50   0.5%  65.1%      160   1.5% std::tr1::_Hashtable::_M_reh«|      78   0.6%  60.5%      120   0.9% std::num_get::_M_extract_int
      77   0.6%  61.2%      556   4.3% std::tr1::hash::operator (in«|      50   0.5%  65.6%      252   2.4% tcmalloc::ThreadCache::Deall«|      76   0.6%  61.0%      143   1.1% Portage::BasicModel::comput«
      77   0.6%  61.8%       78   0.6% tc_delete                    |      48   0.5%  66.0%       59   0.6% tcmalloc::ThreadCache::GetTh«|      74   0.6%  61.6%      393   3.0% do_malloc
      71   0.5%  62.4%       81   0.6% tcmalloc::CentralFreeList::R«|      47   0.5%  66.5%      176   1.7% Portage::HyperedgeItem::Scor«|      74   0.6%  62.2%       86   0.6% tcmalloc::CentralFreeList::«
      70   0.5%  62.9%      280   2.2% Portage::FwdLexDistortion::s«|      47   0.5%  66.9%       72   0.7% hash_combine (inline)        |      73   0.5%  62.7%      281   2.1% Portage::FwdLexDistortion::«
      69   0.5%  63.4%      466   3.6% Portage::BasicModel::compute«|      47   0.5%  67.4%      535   5.1% lower_bound (inline)         |      71   0.5%  63.2%      137   1.0% __gnu_cxx::new_allocator::c«
      66   0.5%  63.9%      256   2.0% Portage::FwdLexDistortion::p«|      46   0.4%  67.8%      203   1.9% std::__adjust_heap           |      70   0.5%  63.8%      106   0.8% Portage::BasicModel::respec«
      61   0.5%  64.4%      102   0.8% Portage::LexicalizedDistorti«|      45   0.4%  68.3%       53   0.5% PackedCache::KeyMatch        |      70   0.5%  64.3%      263   2.0% Portage::FwdLexDistortion::«
      61   0.5%  64.9%      100   0.8% Portage::SparseModel::EventT«|      44   0.4%  68.7%      389   3.7% Portage::BasicModelGenerator«|      68   0.5%  64.8%      106   0.8% Portage::LexicalizedDistort«
      61   0.5%  65.3%      132   1.0% __gnu_cxx::new_allocator::co«|      42   0.4%  69.1%      363   3.5% __gnu_cxx::new_allocator::de«|      64   0.5%  65.3%       64   0.5% Portage::EventTemplateWithC«
      58   0.4%  65.8%       99   0.8% Portage::FwdHierLDM::determi«|      42   0.4%  69.5%       55   0.5% std::vector::operator[] (inl«|      64   0.5%  65.8%       64   0.5% __ieee754_logf              
      58   0.4%  66.2%      141   1.1% std::num_get::_M_extract_int |      41   0.4%  69.9%       52   0.5% Portage::LMtpt::mapId        |      62   0.5%  66.2%      330   2.5% std::use_facet
      57   0.4%  66.7%       57   0.4% __ieee754_logf               |      40   0.4%  70.3%       40   0.4% Portage::EventTemplateWithCl«|      60   0.5%  66.7%      171   1.3% Portage::HyperedgeItem::Sco«
      55   0.4%  67.1%      288   2.2% tcmalloc::ThreadCache::Deall«|      38   0.4%  70.6%      430   4.1% Portage::BasicModel::compute«|      59   0.4%  67.1%       67   0.5% SLL_Push
      50   0.4%  67.5%       50   0.4% SLL_PopRange                 |      37   0.4%  71.0%       37   0.4% SLL_PopRange                 |      58   0.4%  67.6%       86   0.6% tcmalloc::ThreadCache::GetT«
      49   0.4%  67.9%       68   0.5% tcmalloc::ThreadCache::GetTh«|      36   0.3%  71.3%       94   0.9% Portage::AnnotationList::cle«|      57   0.4%  68.0%       57   0.4% _init
      50   0.4%  67.5%       50   0.4% SLL_PopRange                 |      37   0.4%  71.0%       37   0.4% SLL_PopRange                 |      58   0.4%  67.6%       86   0.6% tcmalloc::ThreadCache::GetT«
      49   0.4%  67.9%       68   0.5% tcmalloc::ThreadCache::GetTh«|      36   0.3%  71.3%       94   0.9% Portage::AnnotationList::cle«|      57   0.4%  68.0%       57   0.4% _init                       
      48   0.4%  68.2%       48   0.4% memcpy                       |      36   0.3%  71.7%      293   2.8% std::tr1::hash::operator (in«|      57   0.4%  68.4%      290   2.2% tcmalloc::ThreadCache::Deal«
      47   0.4%  68.6%      396   3.0% Portage::BasicModelGenerator«|      35   0.3%  72.0%       39   0.4% TCMalloc_PageMap3::get       |      54   0.4%  68.8%      443   3.3% Portage::BasicModel::comput«
      46   0.4%  68.9%       46   0.4% _init                        |      35   0.3%  72.4%       56   0.5% tcmalloc::ThreadCache::FreeL«|      53   0.4%  69.2%      419   3.2% Portage::BasicModelGenerato«
      46   0.4%  69.3%      308   2.4% std::use_facet               |      34   0.3%  72.7%      807   7.7% Portage::SparseModel::tallyF«|      52   0.4%  69.6%       97   0.7% Portage::FwdHierLDM::determ«
      45   0.3%  69.6%      262   2.0% std::has_facet               |      33   0.3%  73.0%       39   0.4% tcmalloc::ThreadCache::FreeL«|      51   0.4%  70.0%       51   0.4% memcpy                      
      43   0.3%  70.0%       43   0.3% std::__once_call             |      32   0.3%  73.3%       32   0.3% __fill_n_a (inline)          |      51   0.4%  70.4%       51   0.4% std::__once_call            
      42   0.3%  70.3%       57   0.4% PackedCache::KeyMatch        |      31   0.3%  73.6%     4070  39.0% Portage::HyperedgeItem::getA«|      48   0.4%  70.8%      227   1.7% std::has_facet              
      42   0.3%  70.6%       42   0.3% Portage::EventTemplateWithCl«|      30   0.3%  73.9%       38   0.4% Portage::PartialScoreGreater«|      47   0.4%  71.1%       57   0.4% PackedCache::KeyMatch       
      42   0.3%  70.9%       59   0.5% tcmalloc::CentralFreeList::P«|      30   0.3%  74.2%       38   0.4% SLL_Push                     |      45   0.3%  71.4%       65   0.5% Portage::LMtpt::mapId       
      40   0.3%  71.2%       81   0.6% PackedCache::GetOrDefault    |      30   0.3%  74.5%       30   0.3% _init                        |      45   0.3%  71.8%       45   0.3% SLL_PopRange                
      40   0.3%  71.6%      135   1.0% Portage::HyperedgeItem::Scor«|      29   0.3%  74.7%      257   2.5% PartialTranslation           |      44   0.3%  72.1%      120   0.9% std::string::_M_mutate      
      40   0.3%  71.9%      160   1.2% std::__adjust_heap           |      28   0.3%  75.0%       46   0.4% _Vector_impl (inline)        |      43   0.3%  72.4%      253   1.9% PartialTranslation          
      39   0.3%  72.2%       44   0.3% SLL_Push                     |      28   0.3%  75.3%       73   0.7% do_free_with_callback        |      43   0.3%  72.8%       43   0.3% __strcpy_ssse3              
      39   0.3%  72.5%       47   0.4% std::vector::operator[] (inl«|      27   0.3%  75.5%     4664  44.7% Portage::HyperedgeItem::Crea«|      42   0.3%  73.1%      256   1.9% std::getline                
      39   0.3%  72.8%       49   0.4% tcmalloc::ThreadCache::Alloc«|      27   0.3%  75.8%       59   0.6% Portage::PartialTranslation:«|      40   0.3%  73.4%      202   1.5% std::basic_string::basic_st«
      38   0.3%  73.1%       61   0.5% tcmalloc::ThreadCache::FreeL«|      27   0.3%  76.1%      119   1.1% __copy_m (inline)            |      39   0.3%  73.7%      102   0.8% do_free_with_callback       
      37   0.3%  73.3%       47   0.4% Portage::LMtpt::mapId        |      27   0.3%  76.3%       34   0.3% tcmalloc::ThreadCache::Alloc«|      39   0.3%  74.0%       50   0.4% tcmalloc::CentralFreeList::«
      37   0.3%  73.6%      256   2.0% std::getline                 |      26   0.2%  76.6%       36   0.3% Portage::ShiftReducer::reduce|      38   0.3%  74.3%      284   2.1% std::_Vector_base::_M_deall«
      37   0.3%  73.9%      199   1.5% std::istream::_M_extract     |      26   0.2%  76.8%       29   0.3% Portage::SparseModel::Event:«|      37   0.3%  74.5%       66   0.5% tcmalloc::ThreadCache::Free«
      35   0.3%  74.2%      104   0.8% std::string::_M_mutate       |      26   0.2%  77.1%       45   0.4% std::vector::begin (inline)  |      36   0.3%  74.8%       40   0.3% TCMalloc_PageMap3::get      
      34   0.3%  74.4%       36   0.3% TCMalloc_PageMap3::get       |      25   0.2%  77.3%       53   0.5% Portage::BackLexDistortion::«|      36   0.3%  75.1%       44   0.3% tcmalloc::ThreadCache::Allo«
      33   0.3%  74.7%       81   0.6% do_free_with_callback        |      25   0.2%  77.5%       26   0.2% Portage::DistortionModel::re«|      35   0.3%  75.3%       43   0.3% std::vector::operator[] (in«
      33   0.3%  74.9%      183   1.4% std::vector::push_back (inli«|      25   0.2%  77.8%      116   1.1% Portage::FwdLexDistortion::s«|      34   0.3%  75.6%       86   0.6% ~PartialTranslation         
      33   0.3%  75.2%       40   0.3% tcmalloc::ThreadCache::FreeL«|      25   0.2%  78.0%      203   1.9% _Construct (inline)          |      33   0.2%  75.8%      176   1.3% std::__adjust_heap          
      32   0.2%  75.5%      690   5.3% Portage::LMtpt::minContextSi«|      24   0.2%  78.2%     3085  29.6% Portage::BasicModelGenerator«|      33   0.2%  76.1%       43   0.3% tcmalloc::SizeMap::ClassInd«
      32   0.2%  75.7%       65   0.5% Portage::PartialTranslation:«|      24   0.2%  78.5%     5931  56.9% Portage::CubePruningHypStack«|      32   0.2%  76.3%       44   0.3% Portage::PartialScoreGreate«
      32   0.2%  75.9%      312   2.4% Portage::SparseModel::tallyF«|      24   0.2%  78.7%       29   0.3% Portage::FwdHierLDM::compute«|      32   0.2%  76.6%      180   1.4% std::vector::push_back (inl«
      32   0.2%  76.2%       46   0.4% tcmalloc::SizeMap::ClassIndex|      24   0.2%  78.9%      929   8.9% Portage::SparseModel::score  |      31   0.2%  76.8%      197   1.5% std::string::_Rep::_S_create
      31   0.2%  76.4%       48   0.4% Portage::ShiftReducer::reduce|      24   0.2%  79.2%       25   0.2% dotProduct (inline)          |      30   0.2%  77.0%       76   0.6% PackedCache::GetOrDefault   
      30   0.2%  76.7%     3031  23.3% Portage::BasicModelGenerator«|      24   0.2%  79.4%       55   0.5% std::_Rb_tree::_M_insert_uni«|      30   0.2%  77.3%       30   0.2% PackedCache::KeyToUpper     
      30   0.2%  76.9%       30   0.2% std::istream::sentry::sentry |      23   0.2%  79.6%       47   0.5% boost::dynamic_bitset::m_che«|      30   0.2%  77.5%       30   0.2% Portage::WordDisplacement::«
      30   0.2%  77.1%       38   0.3% tcmalloc::ThreadCache::GetCa«|      23   0.2%  79.8%      236   2.3% std::vector::operator=       |      30   0.2%  77.7%      441   3.3% Portage::split              
      29   0.2%  77.3%       37   0.3% ShiftReducer                 |      22   0.2%  80.1%     4696  45.0% HyperedgeItem                |      30   0.2%  77.9%      709   5.3% std::tr1::_Hashtable::_M_in«
      29   0.2%  77.6%      857   6.6% std::basic_ios::init         |      22   0.2%  80.3%      667   6.4% Portage::LMtpt::minContextSi«|      30   0.2%  78.2%       39   0.3% tcmalloc::ThreadCache::Free«
      28   0.2%  77.8%      246   1.9% PartialTranslation           |      22   0.2%  80.5%       37   0.4% __dynamic_cast               |      29   0.2%  78.4%     3012  22.7% Portage::BasicModelGenerato«
      28   0.2%  78.0%     5250  40.4% Portage::CubePruningHypStack«|      22   0.2%  80.7%      173   1.7% std::vector::_M_fill_insert  |      29   0.2%  78.6%       29   0.2% Portage::FwdLexDistortion::«
      28   0.2%  78.2%       41   0.3% Portage::Range::operator< (i«|      22   0.2%  80.9%       26   0.2% std::vector::capacity (inlin«|      29   0.2%  78.8%     3578  26.9% Portage::HyperedgeItem::get«
      27   0.2%  78.4%       29   0.2% Portage::FwdHierLDM::compute«|      21   0.2%  81.1%     4300  41.2% Portage::BasicModel::scoreTr«|      29   0.2%  79.0%       40   0.3% _Vector_impl (inline)       
      27   0.2%  78.6%     3515  27.0% Portage::HyperedgeItem::getA«|      21   0.2%  81.3%      129   1.2% std::basic_string::basic_str«|      28   0.2%  79.2%      686   5.2% Portage::BasicModelGenerato«
      27   0.2%  78.8%       28   0.2% dotProduct (inline)          |      21   0.2%  81.5%      962   9.2% std::tr1::_Hashtable::find («|      28   0.2%  79.5%       36   0.3% Portage::FwdHierLDM::comput«
      27   0.2%  79.0%      270   2.1% std::_Vector_base::_M_deallo«|      21   0.2%  81.7%      168   1.6% std::vector::push_back (inli«|      28   0.2%  79.7%       34   0.3% ShiftReducer                
      26   0.2%  79.2%      443   3.4% Portage::split               |      21   0.2%  81.9%       51   0.5% ugdiss::BitCoder::readNumber«|      28   0.2%  79.9%       28   0.2% std::istream::sentry::sentry
      26   0.2%  79.4%       34   0.3% _Vector_impl (inline)        |      20   0.2%  82.1%       67   0.6% PackedCache::GetOrDefault    |      28   0.2%  80.1%      220   1.7% std::vector::operator=      
      26   0.2%  79.6%       53   0.4% std::time_put::put           |      20   0.2%  82.3%       20   0.2% PackedCache::KeyToUpper      |      28   0.2%  80.3%       34   0.3% tcmalloc::ThreadCache::GetC«
      25   0.2%  79.8%       75   0.6% Portage::AnnotationList::cle«|      20   0.2%  82.5%     1165  11.2% Portage::BasicModelGenerator«|      28   0.2%  80.5%       32   0.2% ugdiss::BitCoder::readBits «
      25   0.2%  80.0%       25   0.2% __strcpy_ssse3               |      20   0.2%  82.7%      295   2.8% std::_Vector_base::_M_deallo«|      27   0.2%  80.7%      883   6.6% std::basic_ios::init        
      25   0.2%  80.2%       30   0.2% ugdiss::BitCoder::readBits («|      20   0.2%  82.9%       27   0.3% ugdiss::BitCoder::readBits («|      26   0.2%  80.9%     4152  31.3% HyperedgeItem               
      25   0.2%  80.4%       59   0.5% ugdiss::BitCoder::readNumber«|      20   0.2%  83.1%       81   0.8% ~PartialTranslation          |      26   0.2%  81.1%       52   0.4% Portage::BackLexDistortion:«
      24   0.2%  80.6%     4105  31.6% HyperedgeItem                |      19   0.2%  83.2%       55   0.5% Portage::PartialTranslation:«|      26   0.2%  81.3%      683   5.1% Portage::LMtpt::minContextS«
      24   0.2%  80.8%       24   0.2% PackedCache::KeyToUpper      |      19   0.2%  83.4%       78   0.7% __push_heap (inline)         |      26   0.2%  81.5%       29   0.2% std::vector::capacity (inli«
      24   0.2%  81.0%       30   0.2% do_malloc_pages              |      19   0.2%  83.6%       30   0.3% tcmalloc::SizeMap::ClassIndex|      26   0.2%  81.7%       63   0.5% ugdiss::BitCoder::readNumbe«
      24   0.2%  81.2%      123   0.9% std::string::_M_replace_safe |      19   0.2%  83.8%       66   0.6% ugdiss::TokenIndex::CompFunc«|      25   0.2%  81.9%       25   0.2% Acquire_CompareAndSwap      
01 PTGSH-244/canoe.text[utf-8]                   32 0x20  55,1  5% > 02 PTGSH-244.MMmap/canoe.text[utf-8]             32 0x20  55,1  6% > 03 ref/canoe.text[utf-8]                        53 0x35  55,7  5% >


