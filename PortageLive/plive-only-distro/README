                        PortageLive - PortageII 2.1
 
Traitement multilingue de textes / Multilingual Text Processing
Technologies de l'information et des communications /
   Information and Communications Technologies
Conseil national de recherches Canada / National Research Council Canada
Copyright 2004-2014, Sa Majeste la Reine du Chef du Canada
Copyright 2004-2014, Her Majesty in Right of Canada

Distributed under specific licensing terms.  Please refer to your signed
license agreement for details.

See NOTICE for the Copyright notices of 3rd party libraries.


                             Brief Description

This CD contains the files required to install PortageLive from the
PortageII-2.1 machine translation software suite.

Contents:
   bin/         PortageLive runtime software layout
   www/         web service software

To install these on a PortageLive server, you can run the following commands:
   rsync -arz bin/rpm.build.root/* hostname:/
   rsync -arz www/rpm.build.root/* hostname:/

Warnings:
 - These commands install files directly in /opt/ and /var/www/. Review their
   effects carefully before running them. They are appropriate if you are
   building a dedicated virtual appliance, but consider copying the files by
   smaller units if the server is not dedicated to PortageII-2.1.
 - In particular, these commands assume you don't have any other web pages on
   the same server, and install pages in /var/www/html directly.
 - Will overwrite any previous version of PortageLive on the same server.
   Note: If you want to run multiple versions of PortageLive on the same
   server, you will have to manually place the web service software in a
   subdirectory and adjust all URL references accordingly, as well as
   adjust first-boot-script and subsequent-boot-script.

Prerequisites:
 - Linux: RedHat or its derivatives are best (e.g., CentOS, Scientific Linux)
 - Python 2.7.x. Older or more recent versions will not do.
 - Perl 5.10 or more recent.
 - Perl module XML::Twig (3.28 or more recent).
 - Apache. Make sure it is running by calling "chkconfig httpd on".
 - httpd, httpd php, httpd php-cli, httpd php-common, httpd php-soap, mod_ssl.
 - Make sure the timezone is set, e.g., by running
   ln -sf /usr/share/zoneinfo/America/Montreal /etc/localtime
 - Disable SELinux because PortageLive doesn't work with the default SELinux
   security settings, by setting SELINUX=disabled in /etc/selinux/config.
   Alternatively, if you are an SELinux expert, you could configure it to allow
   each required component to run, but be warned, PortageLive has many
   components.

Configuration:
 - After copying the contents of www/, a few files need to be linked into
   /var/www, and the server's IP address must be hard-coded into the WSDL.
   Run "bash first-boot-script" once to do this.
   Warning: the script modifies /etc/httpd/conf.d/ssl.conf and files in
   /var/www/html directly. Review its effects before running it.
 - Each time the IP address is changed on the server, the WSDL must be
   adjusted. Run "bash subsequent-boot-script" to do so. As the name suggests,
   one option is to run it automatically each time the server is rebooted,
   e.g., by sourcing it in /etc/rc.d/rc.local on a CentOS or RedHat server.
 - Install the PortageII Generic Model v1.0 models, distributed separately, in
   /opt/PortageII/models.
   rsync -arz DVD/models/generic1.0.en2fr /opt/PortageII/models/
   rsync -arz DVD/models/generic1.0.fr2en /opt/PortageII/models/
   When done, confirm each /opt/PortageII/models/<systemname>/ directory
   contains its tuned canoe.ini.cow, among other files.
 - Set one system as default by symlinking it as /opt/PortageII/models/context.
   E.g., to pick one arbitrarily:
   ln -s `ls /opt/PortageII/models | head -1` /opt/PortageII/models/context
 - For interactive command-line testing, setup your environment in your .bashrc:
   export PORTAGE=/opt/PortageII
   source ${PORTAGE}/SETUP.bash

Testing:
 - Command line tests - make sure each of these commands displays a help message:
   canoe -h
   translate.pl -h
   ce_tmx.pl -h
   boscap.ph -h
 - To make sure PortageLive works, try http://server/cgi-bin/plive.cgi (or
   http://server/), a simple cgi interface for interactive use.
 - To test the SOAP API, you can try and http://server/soap.php, test SOAP API
   unit testing page. Here, however, some errors are expected; refer to the API
   documentation in the WSDL to interpret the output.
