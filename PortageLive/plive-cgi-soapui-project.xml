<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project activeEnvironment="Default" name="plive.cgi" resourceRoot="" soapui-version="5.0.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config">
  <con:settings/>
  <con:testSuite name="plive.cgi">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Landing page - TestCase" searchProperties="true" id="ffb94dd4-e90b-4e41-8eb9-cb538fff2c4c">
      <con:settings/>
      <con:testStep type="httprequest" name="HTTP Test Request">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="HTTP Test Request" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There are some contexts">
            <con:configuration>
              <path>count(//select[@name = "context"]/option) > 1</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:properties>
      <con:property>
        <con:name>endpoint</con:name>
        <con:value>${#Project#endpoint}</con:value>
      </con:property>
      <con:property>
        <con:name>context</con:name>
        <con:value>${#Project#context.toy_en2fr}</con:value>
      </con:property>
    </con:properties>
  </con:testSuite>
  <con:testSuite name="TextBox Translation">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate with TextBox - TestCase" searchProperties="true" id="3dc1b7ae-a782-40fa-9b0b-ac8acc901e14">
      <con:settings/>
      <con:testStep type="httprequest" name="Simple request" id="78fd6b2b-f0b0-4df6-a9ea-486c73ad2f5b">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Simple request" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="Validate the translation">
            <con:configuration>
              <path>//div[@id = "translation"]/p[1]</path>
              <content>C'est une test.</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestSuite#context}</con:value>
              <con:style>QUERY</con:style>
              <con:default>toy-regress-en2fr</con:default>
              <con:path xsi:nil="true"/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>source_text</con:name>
              <con:value>This is a test.</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_text</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>newline</con:name>
              <con:value>p</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Presence of Translation section" id="d03d72e5-d21e-46b3-9bd4-98432d3be232">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Presence of Translation section" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="Validate the translation">
            <con:configuration>
              <path>//div[@id = "translation"]/p[1]</path>
              <content>C'est une test.</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be a Source section">
            <con:configuration>
              <path>exists(//div[@id = "source"])</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be a paragraph that holds the source text in the Source section">
            <con:configuration>
              <path>count(//div[@id = "source"]/p)</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be a Target section">
            <con:configuration>
              <path>exists(//div[@id = "translation"])</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be a paragraph that holds the translation in the Target section">
            <con:configuration>
              <path>count(//div[@id = "translation"]/p)</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestSuite#context}</con:value>
              <con:style>QUERY</con:style>
              <con:default>toy-regress-en2fr</con:default>
              <con:path xsi:nil="true"/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>source_text</con:name>
              <con:value>This is a test.</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_text</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>newline</con:name>
              <con:value>p</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Debugging Tools" id="3afa67c0-49b5-46dc-b6c9-d267a5fc7428">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Debugging Tools" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be three debugging tools">
            <con:configuration>
              <path>count(//ul[@id = "debuggingToolsList"]/li)</path>
              <content>3</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be a link to translate more text">
            <con:configuration>
              <path>exists(//a[@id = "translateMore"])</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be an Out-Of-Vocabulary link">
            <con:configuration>
              <path>exists(//ul[@id = "debuggingToolsList"]/li/a[@id = "oov"])</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be an phrase alignment link">
            <con:configuration>
              <path>exists(//ul[@id = "debuggingToolsList"]/li/a[@id = "pal"])</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be an trace link">
            <con:configuration>
              <path>exists(//ul[@id = "debuggingToolsList"]/li/a[@id = "trace"])</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestSuite#context}</con:value>
              <con:style>QUERY</con:style>
              <con:default>toy-regress-en2fr</con:default>
              <con:path xsi:nil="true"/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>source_text</con:name>
              <con:value>This is a test.</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_text</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>newline</con:name>
              <con:value>p</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Invalid context" id="28768eff-4498-42ab-a546-83cd6fa539f8">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Invalid context" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be an error message for the invalid context">
            <con:configuration>
              <path>//div[@id = "problemDescription"]/p</path>
              <content>Invalid context ("InvalidContext") specified.</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>InvalidContext</con:value>
              <con:style>QUERY</con:style>
              <con:default>toy-regress-en2fr</con:default>
              <con:path xsi:nil="true"/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>source_text</con:name>
              <con:value>This is a test.</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_text</con:name>
              <con:value>do</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>newline</con:name>
              <con:value>p</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="xtags Request" id="52d1305b-8c38-4a23-97c4-d6911af24238">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="xtags Request" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="Validate the translation">
            <con:configuration>
              <path>//div[@id = "translation"]/p[1]</path>
              <content><![CDATA[<p>&lt;blue>C'&lt;red>est&lt;/red> une test.&lt;/blue></p>]]></content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestSuite#context}</con:value>
              <con:style>QUERY</con:style>
              <con:default>toy-regress-en2fr</con:default>
              <con:path xsi:nil="true"/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>source_text</con:name>
              <con:value>&lt;blue>This &lt;red>is&lt;/red> a test.&lt;/blue></con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_text</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>newline</con:name>
              <con:value>p</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>text_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="one sentence per line Request" id="8a61d361-ad2c-4708-bd25-f447e6c3d545">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="one sentence per line Request" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 1 paragraph">
            <con:configuration>
              <path>count(//div[@id = "translation"]/p)</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="The first and only paragraph should have three lines">
            <con:configuration>
              <path>count(tokenize(replace(data(//div[@id = "translation"]/p[1]), '\s+\n\s+', "	"), '\t'))</path>
              <content>3</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestSuite#context}</con:value>
              <con:style>QUERY</con:style>
              <con:default>toy-regress-en2fr</con:default>
              <con:path xsi:nil="true"/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>source_text</con:name>
              <con:value>I eat an apple.  It is apple picking time.${="\r\n"}The car is blue.${="\r\n\r\n"}It is Friday.</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_text</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>newline</con:name>
              <con:value>s</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="one paragraph per line Request" id="47a56b13-d80e-4f23-8007-065784f77ff3">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="one paragraph per line Request" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 3 paragraphs">
            <con:configuration>
              <path>count(//div[@id = "translation"]/p)</path>
              <content>3</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="The first paragraph should have two sentences">
            <con:configuration>
              <path>count(tokenize(//div[@id = "translation"]/p[1]/text()[1], "\.\s+")[. ne ''])</path>
              <content>2</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="The second paragraph should have one sentence">
            <con:configuration>
              <path>count(tokenize(//div[@id = "translation"]/p[2]/text(), "\.\s+")[. ne ''])</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="The third paragraph should have one sentence">
            <con:configuration>
              <path>count(tokenize(//div[@id = "translation"]/p[3]/text(), "\.\s+")[. ne ''])</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestSuite#context}</con:value>
              <con:style>QUERY</con:style>
              <con:default>toy-regress-en2fr</con:default>
              <con:path xsi:nil="true"/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>source_text</con:name>
              <con:value>I eat an apple.  It is apple picking time.${="\r\n"}The car is blue.${="\r\n\r\n"}It is Friday.${="\r\n"}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_text</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>newline</con:name>
              <con:value>p</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Blank lines mark paragraph Request" id="0ae107c5-46d3-4fbb-9ce0-aff1a7c0c1e6">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Blank lines mark paragraph Request" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 2 paragraphs aka lines in the translation">
            <con:configuration>
              <path>count(//div[@id = "translation"]/p)</path>
              <content>2</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="The first paragraph should have three sentences">
            <con:configuration>
              <path>count(tokenize(replace(data(//div[@id = "translation"]/p[1]), '\s+\n\s+', "	"), '\t'))</path>
              <content>3</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="The second paragraph should have one sentence">
            <con:configuration>
              <path>count(normalize-space(tokenize(//div[@id = "translation"]/p[2]/text(), "\.\s+"))[. ne ''])</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestSuite#context}</con:value>
              <con:style>QUERY</con:style>
              <con:default>toy-regress-en2fr</con:default>
              <con:path xsi:nil="true"/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>source_text</con:name>
              <con:value>I eat an apple.  It is apple picking time.${="\r\n"}The car is blue.${="\r\n\r\n"}It is Friday.${="\r\n"}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_text</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>newline</con:name>
              <con:value>w</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Phrase Table - TestCase" searchProperties="true" id="63abd7c2-46eb-4740-92db-61d43950afa2">
      <con:settings/>
      <con:testStep type="httprequest" name="Generate phrase table" id="ad7499bf-85ef-4b4d-896b-c3bb11e20262">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Generate phrase table" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="Validate the translation">
            <con:configuration>
              <path>//div[@id = "translation"]/p[1]</path>
              <content>C'est une test.</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="Verify there is a link to triangArray">
            <con:configuration>
              <path>exists(//ul[@id = "debuggingToolsList"]/li/a[@id = "triangArray"])</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestSuite#context}</con:value>
              <con:style>QUERY</con:style>
              <con:default>toy-regress-en2fr</con:default>
              <con:path xsi:nil="true"/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>source_text</con:name>
              <con:value>This is a test.</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_text</con:name>
              <con:value>do</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>newline</con:name>
              <con:value>p</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>enable_phrase_table_debug</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get Phrase Table's URL" id="0ee71ece-55c6-4259-92c8-edcbc9556218">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get Phrase Table's URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Generate phrase table</con:sourceStep>
            <con:sourcePath>//ul[@id = "debuggingToolsList"]/li/a[@id = "triangArray"]/@href</con:sourcePath>
            <con:targetType>phraseTableURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Fetch phrase table" id="de9d4f91-3800-42bf-bf18-cda8a47cbc4f">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Fetch phrase table" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#phraseTableURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="This should return a non empty file containing the phrase table">
            <con:configuration>
              <scriptText>assert !messageExchange.responseHeaders["Content-Length"].isEmpty()
assert (messageExchange.responseHeaders["Content-Length"].get(0).toInteger() > 0)</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["phraseTableURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>phraseTableURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:properties>
      <con:property>
        <con:name>endpoint</con:name>
        <con:value>${#Project#endpoint}</con:value>
      </con:property>
      <con:property>
        <con:name>context</con:name>
        <con:value>${#Project#context.toy_en2fr}</con:value>
      </con:property>
    </con:properties>
  </con:testSuite>
  <con:testSuite name="Translate XLIFF">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate XLIFF minimalist - TestCase" searchProperties="true" id="3c5227e9-d665-4914-b541-8f2be844ab14">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>test.minimalist.sdlxliff</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>211</con:size>
            <con:contentId>filename</con:contentId>
            <con:data>UEsDBBQACAgIANxqR0cAAAAAAAAAAAAAAAAYAAAAdGVzdC5taW5pbWFsaXN0LnNkbHhsaWZmTY7BCsMgEETvgfyDN09NaY8S8y/bZLXCZg26FvP3jSm0ncsOAzNvx0rBOfXClENkq2/DXfed+qiuxNnqkthEyCEbhhWzkdmcLbPEuazIYlpr6rvRBUIVU/CBgax+IlEcpIpWOZY044WAfQGPViNrJZA8yl/o0g++gIDs25FuBIEFj5nGeMRlb/f6NY16mvOr6Q1QSwcIpnnsJpIAAADTAAAAUEsBAhQAFAAICAgA3GpHR6Z57CaSAAAA0wAAABgAAAAAAAAAAAAAAAAAAAAAAHRlc3QubWluaW1hbGlzdC5zZGx4bGlmZlBLBQYAAAAAAQABAEYAAADYAAAAAAA=</con:data>
            <con:id>ba1bcc7e-a19e-4f6a-b307-9e4eec49de48</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="We should get a xliff with an empty body tag.">
            <con:configuration>
              <path>/*:xliff/*:file/*:body</path>
              <content>&lt;urn:body xmlns:urn="urn:oasis:names:tc:xliff:document:1.2"/></content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate XLIFF 1-trans-unit / nomrk - TestCase" searchProperties="true" id="2f24aad3-5ef7-40a8-977c-21c582400d4e">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>test.1-trans-unit.nomrk.sdlxliff</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>351</con:size>
            <con:contentId>filename</con:contentId>
            <con:url>C:/temp/sopaui.examples/test.1-trans-unit.nomrk.sdlxliff</con:url>
            <con:data>UEsDBBQACAgIAGFuR0cAAAAAAAAAAAAAAAAgAAAAdGVzdC4xLXRyYW5zLXVuaXQubm9tcmsuc2RseGxpZmZtkLFywyAMhvfc5R3YmBxfO3K2h059DdXIrnpYyoFInbcvkPTcoSyg/5f0CQ17oGUxN4yJhEf7cnm155N5nH0LnEabIzuBRMkxbJiczq5VOS9z3pDV1arpfBoWCmgk0koMYbSfGIJcdFdrkuQ4YxeA1wwrjhbZGoW4ov4Rl3jAPSjo/VrUawBixdKmMj7E3+utETh1mUkN+cKi5j4403slm2+JwQ/9U6surt2/GYdeO7expjfhr6KZ8qVN2OPQP42S0h/0Fv4O1dcNtEfb0PQDUEsHCDWC3pTQAAAAXwEAAFBLAQIUABQACAgIAGFuR0c1gt6U0AAAAF8BAAAgAAAAAAAAAAAAAAAAAAAAAAB0ZXN0LjEtdHJhbnMtdW5pdC5ub21yay5zZGx4bGlmZlBLBQYAAAAAAQABAE4AAAAeAQAAAAA=</con:data>
            <con:id>d32dbb75-4f2c-4681-afc1-953001463911</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be a source under trans-unit.">
            <con:configuration>
              <path>exists(/*:xliff/*:file/*:body/*:trans-unit/*:source)</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should not be a target tag under trans-unit.">
            <con:configuration>
              <path>not(exists(/*:xliff/*:file/*:body/*:trans-unit/*:target))</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be a seg-source under trans-unit.">
            <con:configuration>
              <path>exists(/*:xliff/*:file/*:body/*:trans-unit/*:seg-source)</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate XLIFF - TestCase" searchProperties="true" id="abed4307-7af1-4c6d-a176-37c494543149">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>test.xtags.xliff</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>307</con:size>
            <con:contentId>filename</con:contentId>
            <con:data>UEsDBBQACAgIAMthPEcAAAAAAAAAAAAAAAAQAAAAdGVzdC54dGFncy54bGlmZk1PO04EMQztkbhDtE2q2RGUUWZqrmEmnhCROCvHWWbPRsGRuAJJEGIbf9/H/v78skcM+66uyCVkWvTT+VmrI0Uqi65MJkMJxRAkLEY2M9DG5a0mJDEdvT4+2D1EVJmDDwRx0W8YYz7LIVqVXHnDKQL5Ch4XjaSVAHuUu+HOWjkQkNuldZcIgQQbvWu/ZnfrWRioTJWCqOCaRxjbgn769Vht4neVhsSpjU/rSz9DWUa3fmSOzs69tHPDtXjHbDrzv/xo/1zn/tooxuvrD1BLBwh7fTU1zAAAADMBAABQSwECFAAUAAgICADLYTxHe301NcwAAAAzAQAAEAAAAAAAAAAAAAAAAAAAAAAAdGVzdC54dGFncy54bGlmZlBLBQYAAAAAAQABAD4AAAAKAQAAAAA=</con:data>
            <con:id>ec24a97b-7460-4f5f-ab43-c3dae19b2b82</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="We should find a red tag in the seg-source">
            <con:configuration>
              <path>count(/*:xliff/*:file/*:body/*:trans-unit/*:seg-source/*:mrk/*:red)</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="We should find a red tag in the target">
            <con:configuration>
              <path>count(/*:xliff/*:file/*:body/*:trans-unit/*:target/*:mrk/*:red)</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="The red tag should contain the translation for world">
            <con:configuration>
              <path>/*:xliff/*:file/*:body/*:trans-unit/*:target/*:mrk/*:red</path>
              <content>monde.</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate XLIFF with CE - TestCase" searchProperties="true" id="9ee51f46-3f36-4d91-9ed5-74a2e1ab8457">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>soapui.sdlxliff</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>7607</con:size>
            <con:contentId>filename</con:contentId>
            <con:url>C:/temp/sopaui.examples/soapui.sdlxliff</con:url>
            <con:data>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</con:data>
            <con:id>8b31da55-71f7-4894-8e30-c9cf50cbe4f4</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>useConfidenceEstimation</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 6 seg-source.">
            <con:configuration>
              <path>count(//*:seg-source/*:mrk)</path>
              <content>6</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 6 target.">
            <con:configuration>
              <path>count(//*:target/*:mrk)</path>
              <content>6</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 6 confidence estimation scores.">
            <con:configuration>
              <path>count(//*:seg-defs/*:seg/@percent)</path>
              <content>6</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate XLIFF without CE but with a filter - TestCase" searchProperties="true" id="fdcce165-1bb0-4fc8-911b-686f37fc23ee">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>soapui.sdlxliff</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>7607</con:size>
            <con:contentId>filename</con:contentId>
            <con:data>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</con:data>
            <con:id>8b31da55-71f7-4894-8e30-c9cf50cbe4f4</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>0.15</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 6 seg-source.">
            <con:configuration>
              <path>count(//*:seg-source/*:mrk)</path>
              <content>6</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 6 target.">
            <con:configuration>
              <path>count(//*:target/*:mrk)</path>
              <content>6</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be no confidence estimation scores.">
            <con:configuration>
              <path>count(//*:seg-defs/*:seg/@percent)</path>
              <content>0</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate XLIFF with CE and filtering - TestCase" searchProperties="true" id="5dcd24f0-2478-49cc-93a3-189efb2273b8">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>soapui.sdlxliff</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>7607</con:size>
            <con:contentId>filename</con:contentId>
            <con:data>UEsDBBQACAgIABdvR0cAAAAAAAAAAAAAAAAPAAAAc29hcHVpLnNkbHhsaWZmvVlbb9tGFn7Prxiw2KIFMub9pkoqsk7iFui2wdoL7NtiOHMoESaHAjm0rX+/Z3iRSIl1fEuSF2nmXL5zPyMvf30ocnIHVZ2VcmXYF5ZBQPJSZHKzMhqV0sj4df1u+ZBnaUqQVtaLWuQrY6vUbmGa+PmCl4X5OcvhZr+D2rwW+X81sdnKGkl2DILUi6muViIqquSiZHVWLyQroF4ovmg1LkTJmwKkWmj+9TtClnhCM5mWA+vTgGhWZK5gRwWkdff1eEAysTJCJlzX9zwaeI5NPYv7NA65R8M0ZG5kB64d+TQwBl7kRmDVnqhmZbihsHloR9TxWEA9N4xo4jmMuikTEReJ53oR2g/o1NAg5vrdnJCnAOiFBK2QXoLZW9EbaY6tXJqDw1qdyxT9Q8oq22SSYRivKgC5LZsayBWryXXZVBxqwqQg15m8rUkmySWTTLCLrSpQeUtAcyY3DdvAygBJLz8YRDDFFLp9ZTxQDAVqUVClFQbzvqxuHQNVK1ZtQI1Y00qz9qC3wARUB5M0zBeHuZVwx/IGyC3sV8b1xz8WmuF3Yaw5RK7lg6Be6mKgAAOFnk0oF37Ao5hbYRAuzZZ5HKQTaZcVMIVZ/JEpMNaWb1qh6Vi2S6xo4doLz/q6iL/6GGhgX5jaGuvnxeLpGj719Wys23r+OuOHRpWXeSlBfM7Z5rrZ7cpKATrvpmrgcfYvrGKbiu22N/CgPmYVcO2mehyYc/5aYvz6HCWHf0sBCtkxVKOkI90hyqQ53IHO4Abq2iD68pCN4/pCQbuq3NVj0ecmX2sIZyaO6M0TIUvzHPXSPKTtAcBS9zx9rKvjxMaTO7H+7eZff5A7gpms/y/N0/uDnhmhh8opVFv8Ly6cXkDbEm1j4oSR03R8L8u8rIz1P/O5rJiS/0dideeZhL/xMLquUzvyZW/I0TT+8ErTegG9aaRrWNqXBSh20pbHtM5A+0BVQXWr0uVEsKzw7MYgemjhh0zlgK0Qal7130iZErUFMoyxSdcezDkaKFHg6ywcJAwmpqWunA5fyvIapgFFCC1lNAKmoQ1ijmAP0I5oFdu8DiwKaLUH1hRVslO9SzEoOD8EBSkO+H/M1S+MbCtIV8YP9wktWCaxBowfN+qXpYm80yTEA/qVBqDUDdtoqMYa+P+ucVCp2RYwEjU+h6/CNVkHDk7BwXPBfZJiFhrMQ8MaGjJhEl/0/DG0QxyH9WEYxd3XpBT7A62qmKxpI7NObOwwbjPbpb4f4cIClkNj8ARN/TAFN/FsOxZYOpopx0m5MmQ5jn/X1yeGPLRyrRO4U0JEfIBxzMZNVTa7k96K6T3x7HA4FPXJnBjfnnrsKG6Uv1NveLGABGyLOgxcXN9Ci8Y2dymEgZMwHoSO504Tvbfrk7zLqlLqBtEPeELJZZ4V6DNyucXJBnjwZ7txsJz8Lu+QssSl8d+gJzOx4xiVWra9IE/fIQgdIfn0ALxR2R2Q66YoWLU/+nyCFzb0PGh4UVS3pOjbKWBnLPrh8V0sm0A5s3LONoQ7LZ+xYeOLbmd9mrHjfOnKquM9zTCta/wGmV7NJN+QfueMs5Vwnpihy1zmBB71U4io58chjYTl0shlWL0s5CGwvy/T2UI9lKptnWM9oZ6iHM76en1x+dru4/XrPb+AncSOPAY+TXxP+ykFmgTcooltu+Cz2A6jaNYx1/siKfNh2F+V+Mbtch5Pujx8k3rCF/BTNH2L7HbeNL0dY3rb3+O79clxoGeQRmXy/NoZzl6dleEL5oafRq4eFAyErd+lKU1cgV954ok4jlPbjWfTrm9xWY2baFFkCt9KRJX40Oa3uGpvCO8bLe8ardqiNZstqZta4c6ExKx9SWmepMly/E7y8p5yViV4CryUZbFHNoY4Jc8b3GxHKPAJzLdaDSO7slbYph2LbPIywUZ+ohmfhAA6Td/r/ehWM91nakvQDPIn9vkt+VBAlXEmyQ6XLwlVN7IUa2l7mKIsoFZIlef7ixGQ9m3R1sNlucMZwTYgyQfOcRN7P4yBLTtxUgWi4Vp4puo3KU7sR982IBMQs8H5fiGZYJkLT9+FnuQ4z1i/QQi/Rdc7nzGPWfGWHXJW85TiXOGrlgQ39T0exAkNHI5dyAttXBKCmHKehgFLLcEs66VLgm/hA/OhfTGAjatInNLQZjHuyE5AmQiwtTtcsJDZqWXNWd6Lse1eTBqGzBU+p77HBPUSD1ftxEfYLHU9Jw5Cn8/sUM/aS77rCEggDmLBfP1bJD4deMAo8zmndgxCJL4fi3h+87gpMcW2UL0nkKYZz0Dyve4H2Anqfu9XwLeyzMuNLs32pFZVw1VT6a7QdoMaiwv34wrqJtfFheszw1qTKpNN2xmA3YLUn7rFYwQE+9otSUDd43ZOrj5+Ieive+weWg8UWa1/66/fk7rsWlW7tfx2dbwiOyz81g8oWvP/VFbE0CSZVCDrTO2HbafvecbPLdoRBgGdvYJgG8KrCtsHSfbE+UcrfQ+sIjU6BfR7IiA/jf3YVZMf4EryOds0Fb4SqINZMMnAny/IzTar2xY0dlL70w7CanZ575wOY8Zn3XDxJoPGxUz4dmGfIHgkBb5H4CdYZpPgNaF/avB1+J8xzvSu9kbJ8i1Gmhs9eaShJW850mY1TynOFb5qpGHXDK04xCkBHs4G4Vo0ihyHOpxBEgo3Zp794pEWPDKngpnZ/OxH8dIcfnrr/q6wfrc02z+K4v3/AVBLBwi5QcLg+QcAALcdAABQSwECFAAUAAgICAAXb0dHuUHC4PkHAAC3HQAADwAAAAAAAAAAAAAAAAAAAAAAc29hcHVpLnNkbHhsaWZmUEsFBgAAAAABAAEAPQAAADYIAAAAAA==</con:data>
            <con:id>8b31da55-71f7-4894-8e30-c9cf50cbe4f4</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>useConfidenceEstimation</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>0.15</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 6 seg-source.">
            <con:configuration>
              <path>count(//*:seg-source/*:mrk)</path>
              <content>6</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 2 target.">
            <con:configuration>
              <path>count(//*:target/*:mrk)</path>
              <content>2</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 2 confidence estimation scores.">
            <con:configuration>
              <path>count(//*:seg-defs/*:seg/@percent)</path>
              <content>2</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate XLIFF with xtags - TestCase" searchProperties="true" id="3370b448-2d98-4e7a-82c3-5d983e47b29d">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation" id="4f4327e9-573b-4c8e-8c73-661a2fcfb977">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>test.xtags.xliff</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>307</con:size>
            <con:contentId>filename</con:contentId>
            <con:data>UEsDBBQACAgIAMthPEcAAAAAAAAAAAAAAAAQAAAAdGVzdC54dGFncy54bGlmZk1PO04EMQztkbhDtE2q2RGUUWZqrmEmnhCROCvHWWbPRsGRuAJJEGIbf9/H/v78skcM+66uyCVkWvTT+VmrI0Uqi65MJkMJxRAkLEY2M9DG5a0mJDEdvT4+2D1EVJmDDwRx0W8YYz7LIVqVXHnDKQL5Ch4XjaSVAHuUu+HOWjkQkNuldZcIgQQbvWu/ZnfrWRioTJWCqOCaRxjbgn769Vht4neVhsSpjU/rSz9DWUa3fmSOzs69tHPDtXjHbDrzv/xo/1zn/tooxuvrD1BLBwh7fTU1zAAAADMBAABQSwECFAAUAAgICADLYTxHe301NcwAAAAzAQAAEAAAAAAAAAAAAAAAAAAAAAAAdGVzdC54dGFncy54bGlmZlBLBQYAAAAAAQABAD4AAAAKAQAAAAA=</con:data>
            <con:id>ec24a97b-7460-4f5f-ab43-c3dae19b2b82</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished" id="ddb896f3-cb79-44ac-bb7f-ecb5edde345f">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page" id="70ed4e32-b28d-4a9a-abbf-0190a8d0ff8a">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto" id="ab8c0599-7f23-4774-ad3b-057e4b3fd964">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL" id="a5c21519-9b7e-4e33-9dc8-6755043f15ad">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations" id="0f281692-df83-4079-83a2-b0f047128cdb">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="We should find a red tag in the seg-source">
            <con:configuration>
              <path>count(/*:xliff/*:file/*:body/*:trans-unit/*:seg-source/*:mrk/*:red)</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="We should find a red tag in the target">
            <con:configuration>
              <path>count(/*:xliff/*:file/*:body/*:trans-unit/*:target/*:mrk/*:red)</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="The red tag should contain the translation for world">
            <con:configuration>
              <path>/*:xliff/*:file/*:body/*:trans-unit/*:target/*:mrk/*:red</path>
              <content>monde.</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:properties>
      <con:property>
        <con:name>endpoint</con:name>
        <con:value>${#Project#endpoint}</con:value>
      </con:property>
      <con:property>
        <con:name>context</con:name>
        <con:value>${#Project#context.toy_en2fr}</con:value>
      </con:property>
    </con:properties>
  </con:testSuite>
  <con:testSuite name="Translate TMX">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate TMX minimalist - TestCase" searchProperties="true" id="de9c0326-4539-47c9-9650-fff5b5c309f4">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>test.minimalist.tmx</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>255</con:size>
            <con:contentId>filename</con:contentId>
            <con:url>C:/temp/sopaui.examples/test.minimalist.tmx</con:url>
            <con:data>UEsDBBQACAgIAMd2R0cAAAAAAAAAAAAAAAATAAAAdGVzdC5taW5pbWFsaXN0LnRteF2PMQ+CMBCFdxL+Q9MdAXVsIWocNQ4M6lbhRJL2atpq4N/b0oU4vbvv3b3csXpUknzB2EEjp+WqoHWVJsypcUm31ENC2AtEB4YQ0hoQzptOa8np9XZvfEH/jGVsmRXrTRiw0LvpDZxaQAfYQoA6c+rJ6W5/aIxAewIVqOjUgFJgzylg9rHzumkjOZ5D2wknYtxFigEbGJ3H4YM83hrvfuhuqlg+S/D8e17T5AdQSwcIsJlKaqwAAAD/AAAAUEsBAhQAFAAICAgAx3ZHR7CZSmqsAAAA/wAAABMAAAAAAAAAAAAAAAAAAAAAAHRlc3QubWluaW1hbGlzdC50bXhQSwUGAAAAAAEAAQBBAAAA7QAAAAAA</con:data>
            <con:id>d91b7821-9f82-4834-9a56-2ff9f5f5596e</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="We should get a tmx with an empty body tag.">
            <con:configuration>
              <path>/*:tmx/*:body</path>
              <content>&lt;body/></content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate TMX no seg - TestCase" searchProperties="true" id="de409806-67aa-444f-9fab-ef0538919c07">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>test.noseg.tmx</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>314</con:size>
            <con:contentId>filename</con:contentId>
            <con:url>C:/temp/sopaui.examples/test.noseg.tmx</con:url>
            <con:data>UEsDBBQACAgIADp3R0cAAAAAAAAAAAAAAAAOAAAAdGVzdC5ub3NlZy50bXhVj81uwjAQhO9IvMNq7yHQ9lTZQYCQeinqIYe2NxMvEMk/yF4gvH23JEhw8ufZndGsmnfewZlSbmPQOJtMcV6NR4p996i+oYgA6kDGUoImkWEZcYxO4/fPby2AT/Jj5KyYvrwiZNrz9UgaMwWm0BBCLNjvNC6WqzqZkD/JIxjr2+BM2GukUJyyGFPT/9cbBLCGTZ/z5Uwbaur4v50q+3J90W201xsJ82mgG59BLn6/5xWrBVbwQc5FuMTk7ESVsnO3loNXlUOgKL6Tdzz6A1BLBwiDYerdzgAAADoBAABQSwECFAAUAAgICAA6d0dHg2Hq3c4AAAA6AQAADgAAAAAAAAAAAAAAAAAAAAAAdGVzdC5ub3NlZy50bXhQSwUGAAAAAAEAAQA8AAAACgEAAAAA</con:data>
            <con:id>7ea13cb4-bffe-4b63-b0b7-d131521ce9ba</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be a source tuv.">
            <con:configuration>
              <path>exists(/*:tmx/*:body/*:tu/*:tuv[@xml:lang="EN-CA"])</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be a target tuv.">
            <con:configuration>
              <path>exists(/*:tmx/*:body/*:tu/*:tuv[@xml:lang="FR-CA"])</path>
              <content>true</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate TMX - TestCase" searchProperties="true" id="2bdf40e6-65dc-43af-8907-76e1f49b6bec">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>soapui.sdlxliff</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>4068</con:size>
            <con:contentId>filename</con:contentId>
            <con:data>UEsDBBQACAgIAMl4R0cAAAAAAAAAAAAAAAAKAAAAc29hcHVpLnRteO1X227TQBCdV5D4B9OHPgEh5SZoKUIhQCUoCBchEC+p4yRWYzvYTqBC/XXgzJld22laCIgniiLZ3rntzJnLbr5/25FH8kVSmUogC4mlkFISySWTh7IhXbkhN/EOILUrV+Sy7MhVeSKvpCcH8l5eSx+8Cvpf8A5BCUHvy0usNhy9K7dhZYjVEDRvxeucveftluQEEgPoqpxSLkErwrdSK6dX4ZkjBtVfgJbi/SvZ1Z1Pa5aQGEP+WGb4UgmlqAV9Rng2srlcZ0wjyh3IO8TwDvYy8LaIYiBPIVVARn1pNDW2lJJTfGfYUS30ZR8W3wLPtj8Fdl2V6snjltSQ9gdLfhdYjX6CiemY7BZ87codPO/xfb5WAj3VCEFLZQ7e1En73M2gkeMZLHnzBvg8JRqK5QG0D6EZ1zn/Kh/hrXEr8oIWvYuVvlNIWFVkXOten2puhLoZML8xbCj6PcjPQUmoEwC5WD7LtpzQ9gm87dT+ruN/SJr6HbJGY2a1iaCs+WXNb+IIuVIp9c1T9umXr5IpvPp97/aZDUOzBH8AzhxRa/0oZ0af1rfXI+2YyI0RiUXpq0T9fQMZrUL7Wt/yE2IT0fKsriq13nddpnk6WyqQ5+SfHUlnaWoY1TiHrJrj1hyaw9ac2IwhHbFKdHebRRus+4nrufiMTrmFp3XLAVZb+Fbaffmwouv7RWfnc9ljDzxGj7/AemPJowU0bSo/OLffvbxNKcNMJ1hBfFI3qbTuVX9AzwNoK2XKSWeR6Lrx0ST2W10+YP/t0Xrs5mcBBANkOwbmOadLgKjv43cT+oZLF74H8ow5Ur0JkS25xzNYLXliWE9GzHFAL4ak6zw8Is1m6GoUfSCk+ZrT0wXthliljEw91Drw6Pi6MHSX1+36+HfqYYfI7HK2RKDeddNTVyOuvKUuvN3CeRXgp5iY3ib4FeZjiRyr3CbPwu3a7klLVvNVsRf/zp6dtXYNXJXPL3imQ07UiCebdVHF7kywOsLXa9g9ZM9HrmvH5FX/u2RprmzyrMzB2yaO603BkOimRLSsT6eEFiqeQzbXtE7NiqKV8saUMSfNLqZREE09awPcUCaUmazMwNTdKWxGVvX8bPYpWvM5IRp6T7VKGLd2LZnLzJ2Wjdc9cn283kM/o0tKL+qaW453zu+cp3bl9rIZnVDfx51zR2/zkHYMuxwTw2M140RPeJ/Jal62kp8ZfRrVNyi7pd+44DW+x3mQuDwFRNGfuh7Lgrf3pL6LX+M/iZi5S0gZutw16DY1MXJ5bCo04ZflUSWOYEG7JV7plIp7a/7LlqWynmkjN7faXpf0r6SE1VD79lC4CWe1vd3i2D1xQbzjGo+IFmJnsaox8f+k2l7F/E/iu8nq1ZDLaOF0fG2/RvTfesRXvdbtsav5P6vTzsqdtuP+Xdv6B1BLBwgcLlGfJgQAAOQPAABQSwECFAAUAAgICADJeEdHHC5RnyYEAADkDwAACgAAAAAAAAAAAAAAAAAAAAAAc29hcHVpLnRteFBLBQYAAAAAAQABADgAAABeBAAAAAA=</con:data>
            <con:id>c61def18-8150-4edf-8c6e-e3d5cfdaaeb7</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 5 source segments.">
            <con:configuration>
              <path>count(//*:tuv[@xml:lang="EN-CA"]/*:seg)</path>
              <content>5</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 5 target segments.">
            <con:configuration>
              <path>count(//*:tuv[@xml:lang="FR-CA"]/*:seg)</path>
              <content>5</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be no confidence estimation scores.">
            <con:configuration>
              <path>count(//*:tu/*:prop[@type="Txt::CE"])</path>
              <content>0</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate TMX with CE - TestCase" searchProperties="true" id="e71f6ca7-e776-4f3c-9e4f-f6c78697fe9a">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>soapui.sdlxliff</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>4068</con:size>
            <con:contentId>filename</con:contentId>
            <con:url>C:/temp/sopaui.examples/soapui.tmx</con:url>
            <con:data>UEsDBBQACAgIAMl4R0cAAAAAAAAAAAAAAAAKAAAAc29hcHVpLnRteO1X227TQBCdV5D4B9OHPgEh5SZoKUIhQCUoCBchEC+p4yRWYzvYTqBC/XXgzJld22laCIgniiLZ3rntzJnLbr5/25FH8kVSmUogC4mlkFISySWTh7IhXbkhN/EOILUrV+Sy7MhVeSKvpCcH8l5eSx+8Cvpf8A5BCUHvy0usNhy9K7dhZYjVEDRvxeucveftluQEEgPoqpxSLkErwrdSK6dX4ZkjBtVfgJbi/SvZ1Z1Pa5aQGEP+WGb4UgmlqAV9Rng2srlcZ0wjyh3IO8TwDvYy8LaIYiBPIVVARn1pNDW2lJJTfGfYUS30ZR8W3wLPtj8Fdl2V6snjltSQ9gdLfhdYjX6CiemY7BZ87codPO/xfb5WAj3VCEFLZQ7e1En73M2gkeMZLHnzBvg8JRqK5QG0D6EZ1zn/Kh/hrXEr8oIWvYuVvlNIWFVkXOten2puhLoZML8xbCj6PcjPQUmoEwC5WD7LtpzQ9gm87dT+ruN/SJr6HbJGY2a1iaCs+WXNb+IIuVIp9c1T9umXr5IpvPp97/aZDUOzBH8AzhxRa/0oZ0af1rfXI+2YyI0RiUXpq0T9fQMZrUL7Wt/yE2IT0fKsriq13nddpnk6WyqQ5+SfHUlnaWoY1TiHrJrj1hyaw9ac2IwhHbFKdHebRRus+4nrufiMTrmFp3XLAVZb+Fbaffmwouv7RWfnc9ljDzxGj7/AemPJowU0bSo/OLffvbxNKcNMJ1hBfFI3qbTuVX9AzwNoK2XKSWeR6Lrx0ST2W10+YP/t0Xrs5mcBBANkOwbmOadLgKjv43cT+oZLF74H8ow5Ur0JkS25xzNYLXliWE9GzHFAL4ak6zw8Is1m6GoUfSCk+ZrT0wXthliljEw91Drw6Pi6MHSX1+36+HfqYYfI7HK2RKDeddNTVyOuvKUuvN3CeRXgp5iY3ib4FeZjiRyr3CbPwu3a7klLVvNVsRf/zp6dtXYNXJXPL3imQ07UiCebdVHF7kywOsLXa9g9ZM9HrmvH5FX/u2RprmzyrMzB2yaO603BkOimRLSsT6eEFiqeQzbXtE7NiqKV8saUMSfNLqZREE09awPcUCaUmazMwNTdKWxGVvX8bPYpWvM5IRp6T7VKGLd2LZnLzJ2Wjdc9cn283kM/o0tKL+qaW453zu+cp3bl9rIZnVDfx51zR2/zkHYMuxwTw2M140RPeJ/Jal62kp8ZfRrVNyi7pd+44DW+x3mQuDwFRNGfuh7Lgrf3pL6LX+M/iZi5S0gZutw16DY1MXJ5bCo04ZflUSWOYEG7JV7plIp7a/7LlqWynmkjN7faXpf0r6SE1VD79lC4CWe1vd3i2D1xQbzjGo+IFmJnsaox8f+k2l7F/E/iu8nq1ZDLaOF0fG2/RvTfesRXvdbtsav5P6vTzsqdtuP+Xdv6B1BLBwgcLlGfJgQAAOQPAABQSwECFAAUAAgICADJeEdHHC5RnyYEAADkDwAACgAAAAAAAAAAAAAAAAAAAAAAc29hcHVpLnRteFBLBQYAAAAAAQABADgAAABeBAAAAAA=</con:data>
            <con:id>c61def18-8150-4edf-8c6e-e3d5cfdaaeb7</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>useConfidenceEstimation</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 5 source segments.">
            <con:configuration>
              <path>count(//*:tuv[@xml:lang="EN-CA"]/*:seg)</path>
              <content>5</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 5 target segments.">
            <con:configuration>
              <path>count(//*:tuv[@xml:lang="FR-CA"]/*:seg)</path>
              <content>5</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 5 confidence estimation scores.">
            <con:configuration>
              <path>count(//*:tu/*:prop[@type="Txt::CE"])</path>
              <content>5</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate TMX without CE but with a filter - TestCase" searchProperties="true" id="46bd38d8-62d3-4eb8-a111-d74a7e989d8f">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>soapui.sdlxliff</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>4068</con:size>
            <con:contentId>filename</con:contentId>
            <con:data>UEsDBBQACAgIAMl4R0cAAAAAAAAAAAAAAAAKAAAAc29hcHVpLnRteO1X227TQBCdV5D4B9OHPgEh5SZoKUIhQCUoCBchEC+p4yRWYzvYTqBC/XXgzJld22laCIgniiLZ3rntzJnLbr5/25FH8kVSmUogC4mlkFISySWTh7IhXbkhN/EOILUrV+Sy7MhVeSKvpCcH8l5eSx+8Cvpf8A5BCUHvy0usNhy9K7dhZYjVEDRvxeucveftluQEEgPoqpxSLkErwrdSK6dX4ZkjBtVfgJbi/SvZ1Z1Pa5aQGEP+WGb4UgmlqAV9Rng2srlcZ0wjyh3IO8TwDvYy8LaIYiBPIVVARn1pNDW2lJJTfGfYUS30ZR8W3wLPtj8Fdl2V6snjltSQ9gdLfhdYjX6CiemY7BZ87codPO/xfb5WAj3VCEFLZQ7e1En73M2gkeMZLHnzBvg8JRqK5QG0D6EZ1zn/Kh/hrXEr8oIWvYuVvlNIWFVkXOten2puhLoZML8xbCj6PcjPQUmoEwC5WD7LtpzQ9gm87dT+ruN/SJr6HbJGY2a1iaCs+WXNb+IIuVIp9c1T9umXr5IpvPp97/aZDUOzBH8AzhxRa/0oZ0af1rfXI+2YyI0RiUXpq0T9fQMZrUL7Wt/yE2IT0fKsriq13nddpnk6WyqQ5+SfHUlnaWoY1TiHrJrj1hyaw9ac2IwhHbFKdHebRRus+4nrufiMTrmFp3XLAVZb+Fbaffmwouv7RWfnc9ljDzxGj7/AemPJowU0bSo/OLffvbxNKcNMJ1hBfFI3qbTuVX9AzwNoK2XKSWeR6Lrx0ST2W10+YP/t0Xrs5mcBBANkOwbmOadLgKjv43cT+oZLF74H8ow5Ur0JkS25xzNYLXliWE9GzHFAL4ak6zw8Is1m6GoUfSCk+ZrT0wXthliljEw91Drw6Pi6MHSX1+36+HfqYYfI7HK2RKDeddNTVyOuvKUuvN3CeRXgp5iY3ib4FeZjiRyr3CbPwu3a7klLVvNVsRf/zp6dtXYNXJXPL3imQ07UiCebdVHF7kywOsLXa9g9ZM9HrmvH5FX/u2RprmzyrMzB2yaO603BkOimRLSsT6eEFiqeQzbXtE7NiqKV8saUMSfNLqZREE09awPcUCaUmazMwNTdKWxGVvX8bPYpWvM5IRp6T7VKGLd2LZnLzJ2Wjdc9cn283kM/o0tKL+qaW453zu+cp3bl9rIZnVDfx51zR2/zkHYMuxwTw2M140RPeJ/Jal62kp8ZfRrVNyi7pd+44DW+x3mQuDwFRNGfuh7Lgrf3pL6LX+M/iZi5S0gZutw16DY1MXJ5bCo04ZflUSWOYEG7JV7plIp7a/7LlqWynmkjN7faXpf0r6SE1VD79lC4CWe1vd3i2D1xQbzjGo+IFmJnsaox8f+k2l7F/E/iu8nq1ZDLaOF0fG2/RvTfesRXvdbtsav5P6vTzsqdtuP+Xdv6B1BLBwgcLlGfJgQAAOQPAABQSwECFAAUAAgICADJeEdHHC5RnyYEAADkDwAACgAAAAAAAAAAAAAAAAAAAAAAc29hcHVpLnRteFBLBQYAAAAAAQABADgAAABeBAAAAAA=</con:data>
            <con:id>c61def18-8150-4edf-8c6e-e3d5cfdaaeb7</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>0.15</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 5 source segments.">
            <con:configuration>
              <path>count(//*:tuv[@xml:lang="EN-CA"]/*:seg)</path>
              <content>5</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 5 target segments.">
            <con:configuration>
              <path>count(//*:tuv[@xml:lang="FR-CA"]/*:seg)</path>
              <content>5</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be no confidence estimation scores.">
            <con:configuration>
              <path>count(//*:tu/*:prop[@type="Txt::CE"])</path>
              <content>0</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate TMX with CE and filtering - TestCase" searchProperties="true" id="71d36ccf-e43d-4dda-b36e-4b830c1f96e8">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>soapui.tmx</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>4068</con:size>
            <con:contentId>filename</con:contentId>
            <con:url>C:/temp/sopaui.examples/soapui.tmx</con:url>
            <con:data>UEsDBBQACAgIAEZ5R0cAAAAAAAAAAAAAAAAKAAAAc29hcHVpLnRteO1X227TQBCdV5D4B9OHPgEh5SZoKUIhQCUoCBchEC+p4yRWYzvYTqBC/XXgzJld22laCIgniiLZ3rntzJnLbr5/25FH8kVSmUogC4mlkFISySWTh7IhXbkhN/EOILUrV+Sy7MhVeSKvpCcH8l5eSx+8Cvpf8A5BCUHvy0usNhy9K7dhZYjVEDRvxeucveftluQEEgPoqpxSLkErwrdSK6dX4ZkjBtVfgJbi/SvZ1Z1Pa5aQGEP+WGb4UgmlqAV9Rng2srlcZ0wjyh3IO8TwDvYy8LaIYiBPIVVARn1pNDW2lJJTfGfYUS30ZR8W3wLPtj8Fdl2V6snjltSQ9gdLfhdYjX6CiemY7BZ87codPO/xfb5WAj3VCEFLZQ7e1En73M2gkeMZLHnzBvg8JRqK5QG0D6EZ1zn/Kh/hrXEr8oIWvYuVvlNIWFVkXOten2puhLoZML8xbCj6PcjPQUmoEwC5WD7LtpzQ9gm87dT+ruN/SJr6HbJGY2a1iaCs+WXNb+IIuVIp9c1T9umXr5IpvPp97/aZDUOzBH8AzhxRa/0oZ0af1rfXI+2YyI0RiUXpq0T9fQMZrUL7Wt/yE2IT0fKsriq13nddpnk6WyqQ5+SfHUlnaWoY1TiHrJrj1hyaw9ac2IwhHbFKdHebRRus+4nrufiMTrmFp3XLAVZb+Fbaffmwouv7RWfnc9ljDzxGj7/AemPJowU0bSo/OLffvbxNKcNMJ1hBfFI3qbTuVX9AzwNoK2XKSWeR6Lrx0ST2W10+YP/t0Xrs5mcBBANkOwbmOadLgKjv43cT+oZLF74H8ow5Ur0JkS25xzNYLXliWE9GzHFAL4ak6zw8Is1m6GoUfSCk+ZrT0wXthliljEw91Drw6Pi6MHSX1+36+HfqYYfI7HK2RKDeddNTVyOuvKUuvN3CeRXgp5iY3ib4FeZjiRyr3CbPwu3a7klLVvNVsRf/zp6dtXYNXJXPL3imQ07UiCebdVHF7kywOsLXa9g9ZM9HrmvH5FX/u2RprmzyrMzB2yaO603BkOimRLSsT6eEFiqeQzbXtE7NiqKV8saUMSfNLqZREE09awPcUCaUmazMwNTdKWxGVvX8bPYpWvM5IRp6T7VKGLd2LZnLzJ2Wjdc9cn283kM/o0tKL+qaW453zu+cp3bl9rIZnVDfx51zR2/zkHYMuxwTw2M140RPeJ/Jal62kp8ZfRrVNyi7pd+44DW+x3mQuDwFRNGfuh7Lgrf3pL6LX+M/iZi5S0gZutw16DY1MXJ5bCo04ZflUSWOYEG7JV7plIp7a/7LlqWynmkjN7faXpf0r6SE1VD79lC4CWe1vd3i2D1xQbzjGo+IFmJnsaox8f+k2l7F/E/iu8nq1ZDLaOF0fG2/RvTfesRXvdbtsav5P6vTzsqdtuP+Xdv6B1BLBwgcLlGfJgQAAOQPAABQSwECFAAUAAgICABGeUdHHC5RnyYEAADkDwAACgAAAAAAAAAAAAAAAAAAAAAAc29hcHVpLnRteFBLBQYAAAAAAQABADgAAABeBAAAAAA=</con:data>
            <con:id>8b80dca4-aae3-4bf3-a2fd-9a45065ba57e</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>useConfidenceEstimation</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>0.15</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 3 source segments.">
            <con:configuration>
              <path>count(//*:tuv[@xml:lang="EN-CA"]/*:seg)</path>
              <content>3</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 3 target segments.">
            <con:configuration>
              <path>count(//*:tuv[@xml:lang="FR-CA"]/*:seg)</path>
              <content>3</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="There should be 3 confidence estimation scores.">
            <con:configuration>
              <path>count(//*:tu/*:prop[@type="Txt::CE"])</path>
              <content>3</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Translate TMX with xtags - TestCase" searchProperties="true" id="5dcb35f5-62e3-4932-a624-3d7daa157e25">
      <con:settings/>
      <con:testStep type="httprequest" name="Submit translation">
        <con:settings/>
        <con:config method="POST" xsi:type="con:HttpRequest" name="Submit translation" postQueryString="true" mediaType="multipart/form-data" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>${#TestSuite#endpoint}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="GroovyScriptAssertion" name="Extract the monitoring URL">
            <con:configuration>
              <scriptText>log.info(messageExchange.getRequestContent())
log.info(messageExchange.getEndpoint())
context.getTestCase().setPropertyValue("monitoringToken", messageExchange.getEndpoint())</scriptText>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:attachment>
            <con:name>test.xtags.tmx</con:name>
            <con:contentType>application/octet-stream</con:contentType>
            <con:size>356</con:size>
            <con:contentId>filename</con:contentId>
            <con:url>C:/temp/sopaui.examples/test.xtags.tmx</con:url>
            <con:data>UEsDBBQACAgIADR4R0cAAAAAAAAAAAAAAAAOAAAAdGVzdC54dGFncy50bXhVjz1OAzEQhXsk7jCafnECVMhOFCIkGhDFFkBn1kNYyT/InoTN2Sg4Eldgsg5RUvl7M/Z7z7/fP3o+BA8byqVP0eD0YoLz2fmZ5jAcT69RhgD6g6yjDF0my7LilLzB55fXVgBPxseW02ZyeYVQaMXbTzJYKDLFjhBSw+Hd4OJ22WYbywMFBOtCH72NK4MUm3WRh7mr+u4RwVm21ebJ2z62NPCunFa1W+35ltx2JGFe72nkDciHb/7tmuUCD1vZS0WR9+R9Ap3Jzb5S9k6rHR5MVL1VWRxrpBpztNpHiw6DnH9QSwcIoxYeReEAAABkAQAAUEsBAhQAFAAICAgANHhHR6MWHkXhAAAAZAEAAA4AAAAAAAAAAAAAAAAAAAAAAHRlc3QueHRhZ3MudG14UEsFBgAAAAABAAEAPAAAAB0BAAAAAA==</con:data>
            <con:id>7d6b3f44-6388-4f15-8470-ef5b66f84b91</con:id>
          </con:attachment>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:parameter>
              <con:name>context</con:name>
              <con:value>${#TestCase#context}</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>is_xml</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>file_xtags</con:name>
              <con:value>on</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>no filtering</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
            <con:parameter>
              <con:name>translate_file</con:name>
              <con:value>Translate File</con:value>
              <con:style>QUERY</con:style>
            </con:parameter>
          </con:parameters>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Wait for the translation to be finished">
        <con:settings/>
        <con:config>
          <delay>1000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Inspect the monitoring page">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Inspect the monitoring page" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>${#TestCase#monitoringToken}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:testStep type="goto" name="Conditional Goto">
        <con:settings/>
        <con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:condition>
            <con:name>Need some more time</con:name>
            <con:type>XPATH</con:type>
            <con:expression>(: not(//div[@id="translationLink"]//a/@href) :)
(: As long as the page says to reload, we will wait. :)
exists(//head/meta[@http-equiv = "refresh"])</con:expression>
            <con:targetStep>Wait for the translation to be finished</con:targetStep>
          </con:condition>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Get the translation URL">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
            <con:name>Get URL</con:name>
            <con:sourceType>ResponseAsXml</con:sourceType>
            <con:sourceStep>Inspect the monitoring page</con:sourceStep>
            <con:sourcePath>//div[@id="translationLink"]//a/@href</con:sourcePath>
            <con:targetType>translationURL</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="httprequest" name="Get Translations">
        <con:settings/>
        <con:config method="GET" xsi:type="con:HttpRequest" name="Get Translations" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:encoding>UTF-8</con:encoding>
          <con:endpoint>http://${#Project#ServerName}/${#TestCase#translationURL}</con:endpoint>
          <con:request/>
          <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes">
            <con:configuration>
              <codes>200</codes>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="We should find a red tag in the source tuv.">
            <con:configuration>
              <path>count(/*:tmx/*:body/*:tu/*:tuv[@xml:lang="EN-CA"]/*:seg/*:red)</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="We should find a red tag in the target tuv.">
            <con:configuration>
              <path>count(/*:tmx/*:body/*:tu/*:tuv[@xml:lang="FR-CA"]/*:seg/*:red)</path>
              <content>1</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:assertion type="XQuery Match" name="The red tag should contain the translation for world">
            <con:configuration>
              <path>/*:tmx/*:body/*:tu/*:tuv/*:seg/*:red</path>
              <content>monde.</content>
              <allowWildcards>false</allowWildcards>
            </con:configuration>
          </con:assertion>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters/>
        </con:config>
      </con:testStep>
      <con:tearDownScript>for (prop in ["monitoringToken", "translationURL"]) {
	testCase.setPropertyValue(prop, "")
}</con:tearDownScript>
      <con:properties>
        <con:property>
          <con:name>context</con:name>
          <con:value>${#TestSuite#context}</con:value>
        </con:property>
        <con:property>
          <con:name>monitoringToken</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>translationURL</con:name>
          <con:value/>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:properties>
      <con:property>
        <con:name>endpoint</con:name>
        <con:value>${#Project#endpoint}</con:value>
      </con:property>
      <con:property>
        <con:name>context</con:name>
        <con:value>${#Project#context.toy_en2fr}</con:value>
      </con:property>
    </con:properties>
  </con:testSuite>
  <con:properties>
    <con:property>
      <con:name>ServerName</con:name>
      <con:value>132.246.128.219</con:value>
    </con:property>
    <con:property>
      <con:name>Service</con:name>
      <con:value>cgi-bin/plive.cgi</con:value>
    </con:property>
    <con:property>
      <con:name>endpoint</con:name>
      <con:value>http://${#Project#ServerName}/${#Project#Service}</con:value>
    </con:property>
    <con:property>
      <con:name>context.toy_en2fr</con:name>
      <con:value>toy-regress-en2fr</con:value>
    </con:property>
  </con:properties>
  <con:wssContainer/>
  <con:oAuth2ProfileContainer/>
  <con:sensitiveInformation/>
</con:soapui-project>